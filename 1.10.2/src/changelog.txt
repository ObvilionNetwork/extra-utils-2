Fix recursion loop when shift-transfering items